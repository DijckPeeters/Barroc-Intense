<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="Barroc_Intense.Pages.MaintenanceMelding"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Barroc_Intense.Data"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:local1="using:Barroc_Intense.Pages"
    mc:Ignorable="d">



    <Grid>
        <!-- PAGE BACKGROUND -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="Yellow" Offset="0"/>
                <GradientStop Color="Black" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>


        <Border Background="White"
                    CornerRadius="20"
                    Margin="20"
                    Padding="24">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Spacing="16">

                    <!-- Titel -->
                    <TextBlock Text="Meldingen / Storingen"
                                   FontSize="40"
                                   FontWeight="Bold"
                                   Foreground="Black"
                                   HorizontalAlignment="Center"/>

                    <!-- Zoekbalk -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
                        <TextBox x:Name="SearchBox"
                                     Width="420"
                                     Foreground="White"
                                     Background="Black"
                                     PlaceholderText="Zoeken op klant, product of afdeling..."
                                     PlaceholderForeground="LightGray"/>
                        <Button Content="Zoeken"
                                    Width="120"
                                    Click="OnSearchClick"
                                    Background="Black"
                                    Foreground="Yellow"
                                    FontWeight="Bold"/>
                        <Button Content="Alles"
                                    Width="120"
                                    Click="OnResetClick"
                                    Background="Gray"
                                    Foreground="White"
                                    FontWeight="Bold"/>
                    </StackPanel>

                    <!-- Lijst van meldingen / gebruikte producten -->
                    <ListView x:Name="MaintenanceListView" Margin="0,10,0,0">
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="local:Melding">
                                <Border CornerRadius="8" Background="#FFF0F0F0" Padding="12" Margin="0,0,0,12">
                                    <StackPanel>

                                        <!-- Datum + Status -->
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="{x:Bind Datum}" FontSize="16" FontWeight="Bold" Foreground="Black"/>
                                            <TextBlock Text="Status:" VerticalAlignment="Center" Foreground="Black"/>
                                            <TextBlock Text="{x:Bind Status}" FontWeight="Bold" Foreground="Black"/>
                                        </StackPanel>

                                        <!-- Prioriteit -->
                                        <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,4,0,0">
                                            <TextBlock Text="Prioriteit:" VerticalAlignment="Center" Foreground="Black"/>
                                            <TextBlock Text="{x:Bind Prioriteit}"
                                                          />
                                        </StackPanel>


                                        <!-- Overige gegevens -->
                                        <StackPanel Orientation="Horizontal" Spacing="18" Margin="0,8,0,0">
                                            <StackPanel>
                                                <TextBlock Text="Klant" FontWeight="SemiBold" Foreground="Black"/>
                                                <TextBlock Text="{x:Bind Klant}" Foreground="Black"/>
                                            </StackPanel>
                                            <StackPanel>
                                                <TextBlock Text="Product" FontWeight="SemiBold" Foreground="Black"/>
                                                <TextBlock Text="{x:Bind Product}" Foreground="Black"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <TextBlock Text="Probleemomschrijving" FontWeight="SemiBold" Margin="0,8,0,0" Foreground="Black"/>
                                        <TextBlock Text="{x:Bind Probleemomschrijving}" TextWrapping="Wrap" Foreground="Black"/>

                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0" Spacing="12">
                                            <TextBlock Text="{x:Bind Status}" FontStyle="Italic" VerticalAlignment="Center" Foreground="Black"/>
                                            <StackPanel Orientation="Horizontal" Spacing="6" VerticalAlignment="Center">
                                                <TextBlock Text="Klaar:" VerticalAlignment="Center"/>
                                                <CheckBox IsChecked="{x:Bind IsOpgelost, Mode=TwoWay}"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                            <Button Content="Keuring"
                                                        Background="Black"
                                                        Foreground="Yellow"
                                                        Click="OpenForm_Click"
                                                        Tag="{x:Bind Id}"
                                                        Margin="0,10,0,0"/>
                                            <Button Content="Aanpassen"
                                                        Background="Black"
                                                        Foreground="Yellow"
                                                        Tag="{x:Bind Id}"
                                                        Click="BewerkMelding_Click"/>
                                            <Button Content="Verwijderen"
                                                        Background="DarkRed"
                                                        Foreground="White"
                                                        Tag="{x:Bind Id}"
                                                        Click="VerwijderMelding_Click"/>
                                        </StackPanel>

                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>

                    <!-- Knoppen -->
                    <Button Content="Opslaan wijzigingen"
                                Width="220"
                                Height="48"
                                HorizontalAlignment="Center"
                                Click="OnSaveClick"
                                Background="Black"
                                Foreground="Yellow"
                                FontWeight="Bold"/>

                    <Button Content="Melding toevoegen"
                                Width="200"
                                Height="50"
                                Background="Black"
                                Foreground="Yellow"
                                FontSize="20"
                                FontWeight="Bold"
                                BorderThickness="0"
                                Click="KlantButton_Click"/>

                </StackPanel>
            </ScrollViewer>
        </Border>









    </Grid>
</Page>
